<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
<div class="container-fluid full-screen">
    <div class="row text-center">
        <% for (var i = 0; i < products.length; i++) { %>
            <div class="col-md-4 mb-2">
                <div class="card bg-info text-white">
                    <div class="card-header">
                        <%= products[i].name %>
                    </div>
                    <div class="card-body">
                      <h5 class="card-title"><%= products[i].category %></h5>
                      <p class="card-text"><%= products[i].price %></p>
                    </div>
                </div>
            </div>
        <% } %>
    </div>

    <nav aria-label="Page navgation" class="mt-4">
        <% if (pages > 0) { %>
            <ul class="pagination">
                <% if (current == 1) { %>
                    <li class="page-item disabled"><a class="page-link">First</a></li>
                <% } else { %>
                    <li><a class="page-link" href="/products/1">First</a></li>
                <% } %>

                <% var i = (Number(current) > 5 ? Number(current) - 4 : 1) %>
                
                <% if (i !== 1) { %>
                    <li class="page-item disabled"><a class="page-link">...</a></li>
                <% } %>

                <% for (; i <= (Number(current) + 4) && i <= pages; i++) { %> 
                    <% if (i == current) { %>
                        <li class="page-item active"><a class="page-link"><%= i %></a></li> 
                    <% } else { %>
                        <li><a class="page-link" href="/products/<%= i %>"><%= i %></a>
                    </li> <% } %> 
                    
                    <% if (i == Number(current) + 4 && i < pages) { %>
                        <li class="page-item disabled"><a class="page-link">...</a></li> 
                    <% } %>
                <% } %>

                <% if (current == pages) { %>
                    <li class="page-item disabled"><a class="page-link">Last</a></li>
                <% } else { %>
                    <li><a href="/products/<%= pages %>" class="page-link">Last</a></li>
                <% } %>
            </ul>
        <% } %>
    </nav>
</div>

<script src="/js/jquery-3.2.1.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
</body>
</html>